<link rel="import" href="wc-tile.html"/>
<link rel="import" href="../bower_components/marked-element/marked-element.html" />

<dom-module id="wc-note">
    <template>
        <style>
            h2 {
                color: blue;
                font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
            }
        </style>

        <wc-tile>
            <h2 class="header">{{noteHeader}}</h2>

            <section class="note-content">
                <marked-element hidden$="[[editMode]]" markdown="{{noteText}}">
                    <div class="markdown-html"></div>
                </marked-element>
                <textarea hidden$="[[!editMode]]" id="textArea" value="{{noteText::change}}"></textarea>
            </section>

            <nav>
                <a href="javascript:void(0)" on-tap="toggleEditNote" hidden$="[[editMode]]">Popraw</a>
                <a href="javascript:void(0)" on-tap="toggleEditNote" hidden$="[[!editMode]]">Zapisz</a>
                <a class="risky" href="javascript:void(0)">Usu≈Ñ</a>
            </nav>
        </wc-tile>

    </template>
</dom-module>

<script>

    Polymer({
        is: 'wc-note',
        properties: {
            noteHeader: {
                type: String
            },
            noteText: {
                type: String,
                notify: true
            }
        },
        ready: function(){
          this.editMode = false;
        },
        toggleEditNote: function(){
            this.editMode = !this.editMode;
        },
        attached: function() {
            window.setTimeout(function () {
                console.log('attaching wc-note: ', this);
            }.bind(this), 100);
        }
    });

</script>